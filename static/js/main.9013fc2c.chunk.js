(this["webpackJsonpcomp426-final"]=this["webpackJsonpcomp426-final"]||[]).push([[0],{15:function(e,t,a){e.exports=a(27)},20:function(e,t,a){},21:function(e,t,a){},27:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(13),r=a.n(c),i=(a(20),a(6)),s=a(1),o=(a(21),function(e){return l.a.createElement("div",{className:e.className},l.a.createElement("label",null,"Company Name:"),l.a.createElement("br",null),l.a.createElement("input",{onChange:e.companyHandler,defaultValue:e.defVal.company}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("label",null,"Job Title: "),l.a.createElement("br",null),l.a.createElement("input",{onChange:e.positionHandler,defaultValue:e.defVal.position}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("label",null,"Job Description: "),l.a.createElement("br",null),l.a.createElement("textarea",{className:"description",onChange:e.descriptionHandler,defaultValue:e.defVal.description}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{onClick:e.clickHandler},"Remove"))}),m=function(e){return e.edit?l.a.createElement("div",{className:"section"},l.a.createElement("h1",null,"Work Experience"),l.a.createElement("button",{onClick:function(t){return e.handleAddClick(t,e.setList,e.list,{id:Date.now(),company:"",position:"",description:""})}},"Add"),e.list.map((function(t,a){return l.a.createElement("div",{key:t.id,className:"container"},l.a.createElement("div",{className:"arrows"},l.a.createElement("button",{onClick:function(t){return e.moveUp(t,a,e.list,e.setList)}},"Up"),l.a.createElement("br",null),l.a.createElement("button",{onClick:function(t){return e.moveDown(t,a,e.list,e.setList)}},"Down")),l.a.createElement("div",{className:"content"},l.a.createElement(o,{className:"section",clickHandler:function(t){return e.handleRemoveClick(t,a,e.list,e.setList)},companyHandler:function(t){return e.handleFieldChange(t,e.list,a,"company")},positionHandler:function(t){return e.handleFieldChange(t,e.list,a,"position")},descriptionHandler:function(t){return e.handleFieldChange(t,e.list,a,"description")},defVal:e.list[a]})))}))):l.a.createElement("div",{className:"section"},l.a.createElement("h1",null,"Work Experience"),e.list.map((function(e){return l.a.createElement("div",{key:e.id,className:"section"},l.a.createElement("h3",{className:"title"},e.company),l.a.createElement("h4",{className:"position"},e.position),l.a.createElement("h4",{className:"description_saved"},e.description))})))},u=function(){return l.a.createElement("div",{className:"section"},l.a.createElement("h1",null,"Leadership/Activities"))},d=function(e){return l.a.createElement("div",{className:e.className},l.a.createElement("label",null,"Project Title: "),l.a.createElement("br",null),l.a.createElement("input",{onChange:e.titleHandler,defaultValue:e.defVal.title}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("label",null,"Project Description: "),l.a.createElement("br",null),l.a.createElement("textarea",{className:"description",onChange:e.descriptionHandler,defaultValue:e.defVal.description}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{onClick:e.clickHandler},"Remove"))},f=function(e){return e.edit?l.a.createElement("div",{className:"section"},l.a.createElement("h1",null,"Projects"),l.a.createElement("button",{onClick:function(t){return e.handleAddClick(t,e.setList,e.list,{id:Date.now(),title:"",description:""})}},"Add"),e.list.map((function(t,a){return l.a.createElement("div",{key:t.id,className:"container"},l.a.createElement("div",{className:"arrows"},l.a.createElement("button",{onClick:function(t){return e.moveUp(t,a,e.list,e.setList)}},"Up"),l.a.createElement("br",null),l.a.createElement("button",{onClick:function(t){return e.moveDown(t,a,e.list,e.setList)}},"Down")),l.a.createElement("div",{className:"content"},l.a.createElement(d,{className:"section",titleHandler:function(t){return e.handleFieldChange(t,e.list,a,"title")},descriptionHandler:function(t){return e.handleFieldChange(t,e.list,a,"description")},clickHandler:function(t){return e.handleRemoveClick(t,a,e.list,e.setList)},defVal:e.list[a]})))}))):l.a.createElement("div",{className:"section"},l.a.createElement("h1",null,"Projects"),e.list.map((function(e){return l.a.createElement("div",{key:e.id,className:"section"},l.a.createElement("h3",null,e.title),l.a.createElement("h4",null,e.description))})))},E=function(e){return l.a.createElement("div",null,l.a.createElement("input",{onChange:e.changeHandler,defaultValue:e.defVal.skill}),l.a.createElement("button",{onClick:e.removeHandler},"Remove"))},h=function(e){var t=null;return t=e.picState?l.a.createElement("img",{className:"picture",src:e.picState,alt:e.picState}):l.a.createElement("img",{src:e.picState,alt:"Add profile pic"}),e.edit?l.a.createElement("div",{className:"section"},l.a.createElement("h1",null,"Profile"),l.a.createElement("div",null,l.a.createElement("div",{className:"imgPreview"},t)),l.a.createElement("input",{className:"fileInput",type:"file",onChange:function(t){return e.handleImageChange(t)}}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("label",null,"First Name: "),l.a.createElement("input",{onChange:function(t){return e.changeFirstName(t)},defaultValue:e.name.firstname}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("label",null,"Last Name: "),l.a.createElement("input",{onChange:function(t){return e.changeLastName(t)},defaultValue:e.name.lastname}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h4",null,"Skills"),l.a.createElement("button",{onClick:function(t){return e.handleAddClick(t,e.setSkills,e.skills,{skill:"",id:Date.now()})}},"Add"),e.skills.map((function(t,a){return l.a.createElement("div",{key:t.id},l.a.createElement(E,{defVal:e.skills[a],changeHandler:function(t){return e.handleFieldChange(t,e.skills,a,"skill")},removeHandler:function(t){return e.handleRemoveClick(t,a,e.skills,e.setSkills)}}))}))):l.a.createElement("div",{className:"section"},l.a.createElement("h1",null,"Profile"),l.a.createElement("div",null,l.a.createElement("div",{className:"imgPreview"},t),l.a.createElement("h2",null,"Name: ",e.name.firstname," ",e.name.lastname),l.a.createElement("h4",null,"Skills:"),e.skills.map((function(e){return l.a.createElement("div",{key:e.id},l.a.createElement("h4",{className:"skill"},e.skill))}))))},p=function(e){return e.edit?l.a.createElement("button",{onClick:function(t){return e.changeLayout(t)}},"Save"):l.a.createElement("button",{onClick:function(t){return e.changeLayout(t)}},"Edit")},v=a(14),b=function(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),c=a[0],r=a[1],i=Object(v.a)(500,r);return l.a.createElement("form",{className:"search"},l.a.createElement("input",{type:"search",className:"searchBar",autoComplete:"off",onChange:function(e){return i(e.target.value)}}),l.a.createElement("ul",{id:"autocomplete"},e.users.filter((function(e){return e.toLowerCase().includes(c.toLowerCase())})).map((function(t,a){return l.a.createElement("li",{key:a,onClick:function(a){e.searchHandler(a,t)}},l.a.createElement("p",null,t))}))))},k=function(e){return l.a.createElement("div",{className:"section"},l.a.createElement("button",{onClick:e.buttonHandler},"Home"),l.a.createElement(b,{users:e.users,searchHandler:e.searchHandler}))},g=a(4),C=a.n(g);a(22),a(28),a(24);C.a.initializeApp({apiKey:"AIzaSyCTjnjjD_pvjUKqx-YuqO4nHx0MdwMGmX0",authDomain:"comp426-final-3da5e.firebaseapp.com",databaseURL:"https://comp426-final-3da5e.firebaseio.com",projectId:"comp426-final-3da5e",storageBucket:"comp426-final-3da5e.appspot.com",messagingSenderId:"467209345613",appId:"1:467209345613:web:fe152bfe8a5053c7169a04",measurementId:"G-NJ17HP93GH"});var N=C.a.auth(),j=C.a.storage(),w=C.a.database(),L=function(){var e=Object(n.useState)(null),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),o=Object(s.a)(r,2),d=o[0],E=o[1],v=Object(n.useState)(!1),b=Object(s.a)(v,2),g=b[0],L=b[1],H=Object(n.useState)(!0),O=Object(s.a)(H,2),y=O[0],S=O[1],R=Object(n.useState)([]),U=Object(s.a)(R,2),D=U[0],A=U[1],I=Object(n.useState)([]),P=Object(s.a)(I,2),V=P[0],F=P[1],x=Object(n.useState)(""),B=Object(s.a)(x,2),W=B[0],_=B[1],J=Object(n.useState)({firstname:"",lastname:""}),M=Object(s.a)(J,2),T=M[0],G=M[1],q=Object(n.useState)([]),z=Object(s.a)(q,2),K=z[0],X=z[1],Y={},$=[];Object(n.useEffect)((function(){w.ref("users/").once("value").then((function(e){for(var t=e.val(),n=0,l=Object.entries(t);n<l.length;n++){var c=Object(s.a)(l[n],2),r=c[0],i=c[1];r!==a&&"null"!==r&&($.push(i.name.firstname+" "+i.name.lastname),Y[i.name.firstname+" "+i.name.lastname]=r)}$.sort()}))})),Object(n.useEffect)((function(){a&&w.ref("users/"+a).once("value").then((function(e){if(e){var t=e.val();t.name?G(t.name):G({firstname:"",lastname:""}),t.work?A(t.work):A([]),t.projects?F(t.projects):F([]),t.skills?X(t.skills):X([]),t.picURL?_(t.picURL):_(""),E(!1)}})).catch((function(e){console.log("No such document!"),A([]),G({firstname:"",lastname:""}),F([]),X([]),_(""),E(!0)}))}),[a]);N.onAuthStateChanged((function(e){e?(c(e.uid),L(!0)):(L(!1),S(!0))}));var Q=function(e){G({firstname:e.target.value,lastname:T.lastname})},Z=function(e){G({firstname:T.firstname,lastname:e.target.value})},ee=function(e){w.ref("users/"+a).once("value").then((function(e){if(e){var t=e.val();G(t.name),t.work?A(t.work):A([]),t.projects?F(t.projects):F([]),t.skills?X(t.skills):X([]),t.picURL?_(t.picURL):_(""),E(!1)}})),S(!0)},te=function(e,t){d?alert("Please save information"):(w.ref("users/"+Y[t]).once("value").then((function(e){if(e){var t=e.val();G(t.name),t.work?A(t.work):A([]),t.projects?F(t.projects):F([]),t.skills?X(t.skills):X([]),t.picURL?_(t.picURL):_(""),E(!1)}})),S(!1))},ae=function(e){(e.preventDefault(),null!=e.target.files[0])&&j.ref("profile_pics/".concat(a)).put(e.target.files[0]).on("state_changed",(function(e){}),(function(e){console.log(e)}),(function(){j.ref("profile_pics").child(a).getDownloadURL().then((function(e){_(e)}))}))},ne=function(e,t,a,n){t([].concat(Object(i.a)(a),[n]))},le=function(e,t,a,n){var l=Object(i.a)(a);l.splice(t,1),n(l)},ce=function(e,t,a,n){if(console.log(a),0!==t){var l=Object(i.a)(a),c=l[t];l[t]=l[t-1],l[t-1]=c,n(l)}},re=function(e,t,a,n){if(t!==a.length-1){var l=Object(i.a)(a),c=l[t];l[t]=l[t+1],l[t+1]=c,n(l)}},ie=function(e,t,a,n){t[a][n]=e.target.value};return g?y?l.a.createElement("div",null,l.a.createElement(k,{buttonHandler:ee,searchHandler:te,users:$}),l.a.createElement("div",{className:"column left"},l.a.createElement(h,{edit:d,name:T,skills:K,setSkills:X,picState:W,handleImageChange:ae,handleAddClick:ne,handleRemoveClick:le,handleFieldChange:ie,changeFirstName:Q,changeLastName:Z})),l.a.createElement("div",{className:"column right"},l.a.createElement(m,{edit:d,list:D,setList:A,handleAddClick:ne,moveUp:ce,moveDown:re,handleRemoveClick:le,handleFieldChange:ie}),l.a.createElement(u,{edit:d}),l.a.createElement(f,{edit:d,list:V,setList:F,handleAddClick:ne,moveUp:ce,moveDown:re,handleRemoveClick:le,handleFieldChange:ie}),l.a.createElement(p,{edit:d,changeLayout:function(e){if(d){if(""===T.firstname||""===T.lastname)return void alert("Please input your first and last name before saving");w.ref("users/"+a).set({name:T,work:D,projects:V,skills:K,picURL:W})}E(!d)}}),l.a.createElement("button",{onClick:function(e){C.a.auth().signOut()}},"Log Out"))):l.a.createElement("div",null,l.a.createElement(k,{buttonHandler:ee,searchHandler:te,users:$}),l.a.createElement("div",{className:"column left"},l.a.createElement(h,{edit:d,name:T,skills:K,setSkills:X,picState:W,handleImageChange:ae,handleAddClick:ne,handleRemoveClick:le,handleFieldChange:ie,changeFirstName:Q,changeLastName:Z})),l.a.createElement("div",{className:"column right"},l.a.createElement(m,{edit:d,list:D,setList:A,handleAddClick:ne,moveUp:ce,moveDown:re,handleRemoveClick:le,handleFieldChange:ie}),l.a.createElement(u,{edit:d}),l.a.createElement(f,{edit:d,list:V,setList:F,handleAddClick:ne,moveUp:ce,moveDown:re,handleRemoveClick:le,handleFieldChange:ie}))):l.a.createElement("form",{id:"portal"},l.a.createElement("h4",{id:"error",className:"err hide"},"Invalid Credentials"),l.a.createElement("input",{id:"txtEmail",className:"sign-in",placeholder:"Email"}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("input",{id:"txtPass",className:"sign-in",placeholder:"Password"}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{onClick:function(e){return function(e){e.preventDefault();var t=document.getElementById("txtEmail"),a=document.getElementById("txtPass");N.signInWithEmailAndPassword(t.value,a.value).catch((function(e){var t=document.getElementById("error");t.classList.remove("hide"),t.innerHTML=e.message}))}(e)}},"Log In"),l.a.createElement("button",{onClick:function(e){return function(e){e.preventDefault();var t=document.getElementById("txtEmail"),n=document.getElementById("txtPass");N.createUserWithEmailAndPassword(t.value,n.value).then((function(){j.ref("profile_pics").child("blank.png").getDownloadURL().then((function(e){_(e)})),w.ref("users/"+a).set({name:T,work:D,projects:V,skills:K,picURL:W})})).catch((function(e){var t=document.getElementById("error");t.classList.remove("hide"),t.innerHTML=e.message}))}(e)}},"Sign Up"))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[15,1,2]]]);
//# sourceMappingURL=main.9013fc2c.chunk.js.map